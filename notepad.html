<html>
<script>

function checkTime(i) {
  if (i<10) {i = "0" + i};  // add zero in front of numbers < 10
  return i;
}

function saveDoc() {
  var d = new Date() ;
  var monthArray = new Array();
  monthArray[0] = "January"; monthArray[1] = "February"; monthArray[2] = "March"; monthArray[3] = "April";
  monthArray[4] = "May"; monthArray[5] = "June"; monthArray[6] = "July"; monthArray[7] = "August";
  monthArray[8] = "September"; monthArray[9] = "October"; monthArray[10] = "November"; monthArray[11] = "December";
  var month = monthArray[d.getMonth()];
  var date = d.getDate() ;
  var hour = d.getHours() ;
  var timePeriod = "am" ;
  if (hour>12) {
    hour -= 12 ;
    timePeriod = "pm" ;
  }
  var minute = d.getMinutes() ;
  minute = checkTime(minute) ;
  localStorage.saveString = month+" "+date+" at "+hour+":"+minute+" "+timePeriod ;
  localStorage.notepad = myTextarea.value ;
}

function loadDoc() {
  if (typeof localStorage.notepad !== "undefined" && localStorage.notepad !== "") {
    // If user has never been here or saved data is blank
    myTextarea.value = localStorage.notepad ;
    messageDiv.innerHTML = "Loaded text from " + localStorage.saveString ;
  } else {
    myTextarea.value = "Welcome to Austin Heiman's HTML5 local storage notepad!\nNotes typed here will be auto-magically saved for next time!" ;
    myTextarea.select() ;
    messageDiv.innerHTML = "Your text will be automatically saved." ;
  }
  // messageDiv.style.opacity=0 ;
  // messageDiv.style.marginRight="100px";
  messageDiv.style.right="-1000px" ;
}

</script>
<style>
body {
  margin:0px;
  overflow-x:hidden;
}
textarea {
  resize:none;
  width:100%;
  height:100%;
  background-color:#111;
  padding:15px;
  font-family:'courier new';
  font-size:1em;
  color:#fff;
  border:0px;
}
div{
  position:absolute;
  padding:10px;
  color:#000;
  background-color:#c50;
  font-family:'courier new';
  font-size: 1.3em;
  border-radius: .5em ;
  text-align:center;
  cursor:default;
}
#messageDiv {
  bottom:20px;
  right:20px;
  transition: right 2s ease-in-out 5s;
}
#infoDiv {
  width:430px;
  top:20px;
  right:-430px;
  opacity:.4;
  transition: opacity 1s;
  transition: right 1s ease-in-out;
}
#infoDiv:hover {
  right:20px;
  opacity:1;
}
</style>
<body onload="loadDoc()">
<textarea id="myTextarea" autofocus onkeyup="saveDoc()" onmouseout="saveDoc()" onblur="saveDoc()" onload="var myTextarea = this; loadDoc();"></textarea>
<div id="messageDiv" onload="var messageDiv = this" display="none"></div>
<div id="infoDiv" onload="var infoDiv = this">HTML5 NOTEPAD BY AUSTIN HEIMAN</div>
</body>
</html>